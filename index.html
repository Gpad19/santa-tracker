<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Santa Tracker</title>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
<style>
html, body, #map {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}
.label {
    position: absolute;
    top: 10px; left: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.5);
    color: white;
    border-radius: 5px;
    font-family: sans-serif;
    z-index: 1000;
}
</style>
</head>
<body>
<div id="map"></div>
<div class="label">ðŸŽ… Santa Tracker</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>

// --- Initialize map ---
const map = L.map('map', {
    worldCopyJump: true,
}).setView([20, 0], 2);

// --- Add OpenStreetMap tiles ---
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap contributors'
}).addTo(map);

// --- Santa marker ---
const santaIcon = L.icon({
    iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/1/1e/Santa_Claus_icon.svg',
    iconSize: [40, 40],
    iconAnchor: [20, 20]
});

const santaMarker = L.marker([0, -180], {icon: santaIcon}).addTo(map);

// --- Trail polyline ---
let trailLatLngs = [];
const trail = L.polyline(trailLatLngs, {color: 'red', weight: 3}).addTo(map);

// --- Cities visited ---
const cities = [
    {name: 'New York', lat: 40.7128, lon: -74.006},
    {name: 'London', lat: 51.5074, lon: -0.1276},
    {name: 'Tokyo', lat: 35.6895, lon: 139.6917}
];
cities.forEach(city => {
    L.circleMarker([city.lat, city.lon], {
        radius: 6,
        color: 'yellow',
        fillColor: 'yellow',
        fillOpacity: 1
    }).bindPopup(city.name).addTo(map);
});

// --- Define Santa flight path ---
const path = [];
for (let lon = -180; lon <= 180; lon += 2) {
    const lat = 30 * Math.sin((lon / 180) * Math.PI); // wavy path
    path.push([lat, lon]);
}

// --- Animate Santa ---
let step = 0;
function moveSanta() {
    const [lat, lon] = path[step];
    santaMarker.setLatLng([lat, lon]);
    trailLatLngs.push([lat, lon]);
    trail.setLatLngs(trailLatLngs);

    // Center map on Santa
    map.panTo([lat, lon], {animate: true, duration: 1.5});

    step = (step + 1) % path.length;
}

setInterval(moveSanta, 1000); // move every second

</script>
</body>
</html>
